# VTiger-specific macros for the What Are We Doing section, as well as Work orders
# NOTE: What are we doing supports rich text and markdown using extensions, but Work Orders fields do not support formatting.

matches:

  # What Are We Doing

  # Data Service(s)
  - trigger: ":data"
    form: |
      **Data Service(s)**

      LOC: [[loc]]
      Address: [[address]]
      Tech Type: [[tech]]
      Plan Speed: [[plan]]
      ESLA: [[esla]]
      Other Notes:
      [[other]]
    form_fields:
      other:  
        multiline: true

  # Enterprise Ethernet Details
  - trigger: ":ee"
    form: |
      **EE Details**

      Order ID: [[bco]]
      Product ID: [[bpi]]

  # Phones
  - trigger: ":phones"
    form: |
      **Phone(s)**

      Number of: [[num]]
      Model(s):
      [[models]]
      Extensions and labels:
      [[extensions]]
      If multiple models, who needs which model:
      [[extension_models]]
      PoE or PSU: [[poe]]
      Other Notes:
      [[other]]
    form_fields:
      extensions:
        multiline: true
      poe:
        type: list
        values:
          - PoE
          - PSU  
          - TBC
      other:
        multiline: true
      models:
        multiline: true
      extension_models:
        mutliline: true    

  # Number Port
  - trigger: ":port"
    form: |
      **Number Port**

      DID(s):
      [[dids]]
      Port Category: [[category]]
      Losing Provider: [[loser]]
      Cutover date [[cutover]]
      Tech assigned: [[tech]]
    form_fields:
      category:
        type: list
        values:
          - A
          - C
      dids:
        multiline: true

  # Installation
  - trigger: ":install"
    form: |
      **Installation**

      Booked Date: [[booking]]
      Quoted Length in Hours: [[length]]
      Site Survey Performed?: [[boolean]]
      Who is assigned?: [[tech]]
    form_fields:
      boolean:
        type: list
        values:
          - yes
          - no

  # Call flow:
  - trigger: ":callflow"
    replace: |
      Callflow Configuration:
      -----------------------

      DIDs:
      
      Ring Groups:
      
      Inbound Routes/IVRs:
      
      Time Conditions:
      
      Announcements:
      
      Queues:
      
      Voicemails:
      
      Line Keys:
      
      Other (such as voicemail2email, fax2email, directories etc.)   

  # Work Order-Specific Macros

  # Router Configuration Instructions
  - trigger: ":router"
    form: |
      Router/Network Configuration
      ----------------------------
      
      Router Model: [[Router]]
      Tenant Name: [[tenant]]
      Network range: [[subnets]]
      Network Name: [[network]]
      Is wifi required? [[boolean]]
      Wifi Name (SSID): [[ssid]]
      Password: [[Password]]

      Other Configuration
      -------------------
      Are there any other important rules that need to be set on the router?
      [[other]]
    form_fields:
      subnets:
        type: choice
        values:
          - /30 (2 usable hosts including router, 1 phone or less)
          - /29 (6 usable hosts including router, 5 phones or less)
          - /27 (30 usable hosts including router, 29 phones or less)
          - /24 (254 usable hosts including router, 243 phones or less)
      boolean:
        type: choice
        values:
          - yes
          - no
      other:
        multiline: true
